(.venv) gbeam@m3:~/workspace/ki7mt-ai-lab/ki7mt-ai-lab-training$ python scripts/train_v10_final.py 
18:31:10 | IONIS V2 | Phase 10 Final: Geography Reintegration (DNN slow, sidecars clamped)
18:31:10 | Device: mps | Epochs: 100 | Batch: 8192
18:31:10 | Architecture: IonisDualMono (Phase 10: Geography Reintegration)
18:31:10 |   DNN: 11 features -> 512 -> 256 -> 128 -> 1 (geography & time)
18:31:10 |   Sun Sidecar: sfi -> MonotonicMLP(8) -> SNR boost (clamped 0.5-2.0)
18:31:10 |   Storm Sidecar: kp_penalty -> MonotonicMLP(8) -> SNR boost (clamped 0.5-2.0)
18:31:10 |   Differential LR: DNN 1e-5 (slow) | Sidecars 1e-3 (fast)
18:31:10 | Loading data/training_v6_clean.csv...
18:31:15 | Loaded 10,000,000 rows in 4.7s
18:31:15 | Engineering 13 features...
18:31:29 | Feature engineering complete in 13.9s
18:31:29 | Dataset: 10,000,000 rows x 13 features
18:31:29 | SNR range: -35 to 25 dB
18:31:29 | SNR mean: -16.6 dB, std: 8.7 dB
18:31:29 | Feature statistics (normalized):
18:31:29 |   Feature                    Min      Mean       Max        Role
18:31:29 |   --------------------------------------------------------------
18:31:29 |   distance                0.0250    0.1647    0.9000         DNN
18:31:29 |   freq_log                0.7830    0.8746    0.9311         DNN
18:31:29 |   hour_sin               -1.0000   -0.0345    1.0000         DNN
18:31:29 |   hour_cos               -1.0000   -0.1059    1.0000         DNN
18:31:29 |   az_sin                 -1.0000    0.0022    1.0000         DNN
18:31:29 |   az_cos                 -1.0000    0.1241    1.0000         DNN
18:31:29 |   lat_diff                0.0000    0.0930    0.8722         DNN
18:31:29 |   midpoint_lat           -0.8889    0.3823    1.3778         DNN
18:31:29 |   season_sin             -1.0000    0.0085    1.0000         DNN
18:31:29 |   season_cos             -1.0000    0.0943    1.0000         DNN
18:31:29 |   day_night_est          -1.0000   -0.0717    1.0000         DNN
18:31:29 |   sfi                     0.0000    0.5061    1.3357      Sun SC
18:31:29 |   kp_penalty              0.0000    0.7845    1.0000    Storm SC
18:31:29 | Split: 8,000,000 train / 2,000,000 val
18:31:29 | DNN: 170,497 params | Sun SC: 25 params | Storm SC: 25 params
18:31:29 | Total: 170,547 parameters
18:31:29 | Applying Defibrillator V2 to Sidecars...
18:31:29 | Sidecars are JUMP STARTED (and Centered).
18:31:29 |   CALIBRATED: fc1.bias frozen, fc2.bias LEARNABLE (relief valve)
18:31:29 |   Initial: Sun bias=-10.0, Storm bias=-10.0
18:31:29 |   Initial: SFI delta=2.10 dB, Kp delta=5.09 dB
18:31:29 | Initializing Optimizer: Phase 10 - Geography Reintegration
18:31:29 |   DNN: 1e-5 (slow student) | Sidecars: 1e-3 (maintain physics)
18:31:30 | Training started (Dual Monotonic Sidecars Active)
18:31:30 | Physics check: SFI 200 benefit | Kp 9 storm cost (in dB)
18:31:30 |  Ep     Train       Val     RMSE   Pearson          LR   SFI+   Kp9-    Time
18:31:30 | ----------------------------------------------------------------------------
18:32:02 |   1    0.0544    6.3175    2.51dB  +0.1060  1.00e-05  +0.6  +1.5   32.6s *
18:32:02 |       Sidecar bias: Sun=-10.54, Storm=-10.54
18:32:08 |   2    0.0394    6.2676    2.50dB  +0.1632  9.99e-06  +0.6  +1.5    6.1s *
18:32:14 |   3    0.0391    6.2444    2.50dB  +0.1740  9.98e-06  +0.6  +1.6    5.4s *
18:32:22 |   4    0.0390    6.2372    2.50dB  +0.1781  9.96e-06  +0.6  +1.7    7.7s *
18:32:31 |   5    0.0389    6.2349    2.50dB  +0.1799  9.94e-06  +0.6  +1.7    9.8s *
18:32:37 |   6    0.0389    6.2304    2.50dB  +0.1838  9.92e-06  +0.6  +1.6    6.1s *
18:32:44 |   7    0.0389    6.2269    2.50dB  +0.1866  9.89e-06  +0.6  +1.6    6.8s *
18:32:51 |   8    0.0388    6.2235    2.49dB  +0.1900  9.86e-06  +0.5  +1.5    6.7s *
18:32:57 |   9    0.0388    6.2188    2.49dB  +0.1929  9.82e-06  +0.5  +1.5    5.9s *
18:33:03 |  10    0.0387    6.2129    2.49dB  +0.1971  9.78e-06  +0.5  +1.5    5.7s *
18:33:03 |       Sidecar bias: Sun=-10.31, Storm=-10.31
18:33:09 |  11    0.0387    6.2065    2.49dB  +0.2017  9.73e-06  +0.5  +1.4    6.4s *
18:33:15 |  12    0.0386    6.1991    2.49dB  +0.2069  9.68e-06  +0.5  +1.3    5.9s *
18:33:21 |  13    0.0385    6.1928    2.49dB  +0.2107  9.63e-06  +0.5  +1.2    6.5s *
18:33:27 |  14    0.0385    6.1892    2.49dB  +0.2139  9.57e-06  +0.5  +1.2    5.7s *
18:33:34 |  15    0.0384    6.1876    2.49dB  +0.2152  9.51e-06  +0.5  +1.2    6.9s *
18:33:41 |  16    0.0384    6.1842    2.49dB  +0.2169  9.44e-06  +0.5  +1.1    6.8s *
18:33:47 |  17    0.0384    6.1834    2.49dB  +0.2178  9.37e-06  +0.5  +1.1    6.2s *
18:33:53 |  18    0.0384    6.1827    2.49dB  +0.2177  9.30e-06  +0.5  +1.1    6.0s *
18:33:59 |  19    0.0384    6.1795    2.49dB  +0.2201  9.22e-06  +0.5  +1.1    5.6s *
18:34:04 |  20    0.0384    6.1787    2.49dB  +0.2207  9.14e-06  +0.5  +1.1    5.5s *
18:34:04 |       Sidecar bias: Sun=-10.51, Storm=-10.51
18:34:11 |  21    0.0383    6.1760    2.49dB  +0.2227  9.06e-06  +0.5  +1.1    6.4s *
18:34:18 |  22    0.0383    6.1754    2.49dB  +0.2233  8.97e-06  +0.5  +1.1    7.9s *
18:34:25 |  23    0.0383    6.1746    2.48dB  +0.2235  8.88e-06  +0.5  +1.1    6.1s *
18:34:33 |  24    0.0383    6.1725    2.48dB  +0.2248  8.78e-06  +0.5  +1.1    8.5s *
18:34:40 |  25    0.0383    6.1713    2.48dB  +0.2257  8.68e-06  +0.5  +1.1    6.4s *
18:34:46 |  26    0.0383    6.1714    2.48dB  +0.2256  8.58e-06  +0.5  +1.1    6.4s
18:34:52 |  27    0.0383    6.1701    2.48dB  +0.2267  8.48e-06  +0.5  +1.1    5.7s *
18:34:58 |  28    0.0383    6.1690    2.48dB  +0.2270  8.37e-06  +0.5  +1.1    6.3s *
18:35:04 |  29    0.0383    6.1688    2.48dB  +0.2280  8.26e-06  +0.5  +1.1    5.6s *
18:35:09 |  30    0.0383    6.1669    2.48dB  +0.2286  8.15e-06  +0.5  +1.1    5.4s *
18:35:09 |       Sidecar bias: Sun=-10.61, Storm=-10.61
18:35:15 |  31    0.0383    6.1666    2.48dB  +0.2287  8.03e-06  +0.5  +1.1    5.8s *
18:35:21 |  32    0.0383    6.1659    2.48dB  +0.2291  7.91e-06  +0.5  +1.1    5.8s *
18:35:26 |  33    0.0382    6.1642    2.48dB  +0.2303  7.79e-06  +0.5  +1.1    5.5s *
18:35:34 |  34    0.0382    6.1649    2.48dB  +0.2299  7.67e-06  +0.5  +1.1    8.0s
18:35:42 |  35    0.0382    6.1633    2.48dB  +0.2308  7.54e-06  +0.5  +1.1    8.4s *
18:35:50 |  36    0.0382    6.1625    2.48dB  +0.2314  7.42e-06  +0.5  +1.1    7.2s *
18:35:56 |  37    0.0382    6.1630    2.48dB  +0.2311  7.29e-06  +0.5  +1.1    6.4s
18:36:04 |  38    0.0382    6.1621    2.48dB  +0.2317  7.16e-06  +0.5  +1.1    8.4s *
18:36:11 |  39    0.0382    6.1613    2.48dB  +0.2321  7.02e-06  +0.5  +1.1    6.4s *
18:36:19 |  40    0.0382    6.1605    2.48dB  +0.2324  6.89e-06  +0.5  +1.1    8.1s *
18:36:19 |       Sidecar bias: Sun=-10.65, Storm=-10.65
18:36:29 |  41    0.0382    6.1599    2.48dB  +0.2329  6.76e-06  +0.5  +1.1    9.9s *
18:36:41 |  42    0.0382    6.1595    2.48dB  +0.2331  6.62e-06  +0.5  +1.1   12.2s *
18:36:49 |  43    0.0382    6.1589    2.48dB  +0.2333  6.48e-06  +0.5  +1.1    8.2s *
18:37:00 |  44    0.0382    6.1591    2.48dB  +0.2334  6.34e-06  +0.5  +1.1   10.6s
18:37:10 |  45    0.0382    6.1581    2.48dB  +0.2341  6.20e-06  +0.5  +1.1   10.4s *
18:37:21 |  46    0.0382    6.1580    2.48dB  +0.2340  6.06e-06  +0.5  +1.1   10.5s *
18:37:30 |  47    0.0382    6.1577    2.48dB  +0.2341  5.92e-06  +0.5  +1.1    9.0s *
18:37:41 |  48    0.0382    6.1571    2.48dB  +0.2347  5.78e-06  +0.5  +1.1   10.8s *
18:37:52 |  49    0.0382    6.1560    2.48dB  +0.2351  5.64e-06  +0.5  +1.1   11.5s *
18:38:04 |  50    0.0382    6.1559    2.48dB  +0.2352  5.50e-06  +0.5  +1.1   11.5s *
18:38:04 |       Sidecar bias: Sun=-10.66, Storm=-10.66
18:38:12 |  51    0.0382    6.1557    2.48dB  +0.2354  5.36e-06  +0.5  +1.1    7.9s *
18:38:20 |  52    0.0382    6.1559    2.48dB  +0.2354  5.22e-06  +0.5  +1.1    8.2s
18:38:29 |  53    0.0382    6.1560    2.48dB  +0.2352  5.08e-06  +0.5  +1.1    9.3s
18:38:40 |  54    0.0382    6.1550    2.48dB  +0.2359  4.94e-06  +0.5  +1.1   10.9s *
18:38:50 |  55    0.0382    6.1548    2.48dB  +0.2361  4.80e-06  +0.5  +1.1   10.5s *
18:38:58 |  56    0.0382    6.1544    2.48dB  +0.2361  4.66e-06  +0.5  +1.1    7.8s *
18:39:06 |  57    0.0382    6.1538    2.48dB  +0.2365  4.52e-06  +0.5  +1.1    7.9s *
18:39:14 |  58    0.0382    6.1537    2.48dB  +0.2366  4.38e-06  +0.5  +1.1    8.0s *
18:39:22 |  59    0.0382    6.1537    2.48dB  +0.2365  4.24e-06  +0.5  +1.1    7.6s
18:39:29 |  60    0.0382    6.1532    2.48dB  +0.2369  4.11e-06  +0.5  +1.1    7.6s *
18:39:29 |       Sidecar bias: Sun=-10.66, Storm=-10.66
18:39:38 |  61    0.0382    6.1529    2.48dB  +0.2370  3.98e-06  +0.5  +1.1    8.7s *
18:39:45 |  62    0.0381    6.1523    2.48dB  +0.2374  3.84e-06  +0.5  +1.1    7.1s *
18:39:54 |  63    0.0381    6.1527    2.48dB  +0.2371  3.71e-06  +0.5  +1.1    9.1s
18:40:01 |  64    0.0381    6.1521    2.48dB  +0.2374  3.58e-06  +0.5  +1.1    6.5s *
18:40:07 |  65    0.0381    6.1520    2.48dB  +0.2375  3.46e-06  +0.5  +1.1    6.7s *
18:40:19 |  66    0.0381    6.1519    2.48dB  +0.2378  3.33e-06  +0.5  +1.1   11.4s *
18:40:26 |  67    0.0381    6.1519    2.48dB  +0.2376  3.21e-06  +0.5  +1.1    7.5s *
18:40:34 |  68    0.0381    6.1514    2.48dB  +0.2379  3.09e-06  +0.5  +1.1    7.7s *
18:40:40 |  69    0.0381    6.1512    2.48dB  +0.2380  2.97e-06  +0.5  +1.1    5.5s *
18:40:46 |  70    0.0381    6.1515    2.48dB  +0.2380  2.85e-06  +0.5  +1.1    6.2s
18:40:46 |       Sidecar bias: Sun=-10.65, Storm=-10.65
18:40:56 |  71    0.0381    6.1508    2.48dB  +0.2382  2.74e-06  +0.5  +1.1   10.0s *
18:41:06 |  72    0.0381    6.1506    2.48dB  +0.2383  2.63e-06  +0.5  +1.1   10.4s *
18:41:15 |  73    0.0381    6.1510    2.48dB  +0.2381  2.52e-06  +0.5  +1.1    8.4s
18:41:24 |  74    0.0381    6.1512    2.48dB  +0.2381  2.42e-06  +0.5  +1.1    9.1s
18:41:32 |  75    0.0381    6.1506    2.48dB  +0.2383  2.32e-06  +0.5  +1.1    7.9s *
18:41:40 |  76    0.0381    6.1505    2.48dB  +0.2384  2.22e-06  +0.5  +1.1    8.5s *
18:41:49 |  77    0.0381    6.1502    2.48dB  +0.2387  2.12e-06  +0.5  +1.1    8.5s *
18:41:57 |  78    0.0381    6.1501    2.48dB  +0.2387  2.03e-06  +0.5  +1.1    8.4s *
18:42:07 |  79    0.0381    6.1501    2.48dB  +0.2387  1.94e-06  +0.5  +1.1    9.4s
18:42:16 |  80    0.0381    6.1501    2.48dB  +0.2386  1.86e-06  +0.5  +1.1    9.3s
18:42:16 |       Sidecar bias: Sun=-10.65, Storm=-10.65
18:42:25 |  81    0.0381    6.1497    2.48dB  +0.2388  1.78e-06  +0.5  +1.1    8.9s *
18:42:33 |  82    0.0381    6.1498    2.48dB  +0.2387  1.70e-06  +0.5  +1.1    8.0s
18:42:41 |  83    0.0381    6.1499    2.48dB  +0.2387  1.63e-06  +0.5  +1.1    8.3s
18:42:49 |  84    0.0381    6.1499    2.48dB  +0.2387  1.56e-06  +0.5  +1.1    7.4s
18:42:57 |  85    0.0381    6.1494    2.48dB  +0.2390  1.49e-06  +0.5  +1.1    8.1s *
18:43:06 |  86    0.0381    6.1494    2.48dB  +0.2389  1.43e-06  +0.5  +1.1    9.3s *
18:43:17 |  87    0.0381    6.1496    2.48dB  +0.2389  1.37e-06  +0.5  +1.1   11.1s
18:43:30 |  88    0.0381    6.1493    2.48dB  +0.2390  1.32e-06  +0.5  +1.1   12.7s *
18:43:38 |  89    0.0381    6.1495    2.48dB  +0.2390  1.27e-06  +0.5  +1.1    8.6s
18:43:46 |  90    0.0381    6.1493    2.48dB  +0.2390  1.22e-06  +0.5  +1.1    7.6s *
18:43:46 |       Sidecar bias: Sun=-10.65, Storm=-10.65
18:43:54 |  91    0.0381    6.1491    2.48dB  +0.2392  1.18e-06  +0.5  +1.1    8.0s *
18:44:03 |  92    0.0381    6.1490    2.48dB  +0.2392  1.14e-06  +0.5  +1.1    9.2s *
18:44:13 |  93    0.0381    6.1491    2.48dB  +0.2392  1.11e-06  +0.5  +1.1    9.7s
18:44:21 |  94    0.0381    6.1489    2.48dB  +0.2393  1.08e-06  +0.5  +1.1    8.4s *
18:44:29 |  95    0.0381    6.1490    2.48dB  +0.2392  1.06e-06  +0.5  +1.1    7.6s
18:44:39 |  96    0.0381    6.1489    2.48dB  +0.2393  1.04e-06  +0.5  +1.1   10.2s
18:44:47 |  97    0.0381    6.1489    2.48dB  +0.2393  1.02e-06  +0.5  +1.1    8.4s *
18:44:55 |  98    0.0381    6.1489    2.48dB  +0.2393  1.01e-06  +0.5  +1.1    7.7s
18:45:03 |  99    0.0381    6.1486    2.48dB  +0.2394  1.00e-06  +0.5  +1.1    7.6s *
18:45:11 | 100    0.0381    6.1486    2.48dB  +0.2395  1.00e-06  +0.5  +1.1    7.8s
18:45:11 |       Sidecar bias: Sun=-10.65, Storm=-10.65
18:45:11 | ----------------------------------------------------------------------------
18:45:11 | Training complete. Best RMSE: 2.48 dB
18:45:11 | Checkpoint: models/ionis_v10_final.pth
18:45:11 | 
18:45:11 | === PHYSICS VERIFICATION ===
18:45:11 | Sun Sidecar: SFI 70 -> -7.63 dB, SFI 200 -> -7.15 dB
18:45:11 |   SFI 70->200 benefit: +0.48 dB
18:45:11 | Storm Sidecar: Kp 0 -> -6.75 dB, Kp 5 -> -7.41 dB, Kp 9 -> -7.87 dB
18:45:11 |   Kp 0->9 storm cost: +1.12 dB
18:45:11 | SFI monotonicity: CORRECT (higher SFI = stronger signal)
18:45:11 | Kp monotonicity: CORRECT (storms degrade signal)

(.venv) gbeam@m3:~/workspace/ki7mt-ai-lab/ki7mt-ai-lab-training$ python scripts/test_v10_final.py 
Model loaded: 11 DNN features + 2 sidecars
Architecture: IonisDualMono (DNN 14->512->256->128->1 + 2x MonotonicMLP)
Features: ['distance', 'freq_log', 'hour_sin', 'hour_cos', 'az_sin', 'az_cos', 'lat_diff', 'midpoint_lat', 'season_sin', 'season_cos', 'day_night_est', 'sfi', 'kp_penalty']
Trained on: 2020-01-01 to 2026-02-04, 10,000,000 rows
Constraint: abs(weights) + Softplus in sidecars
Training SNR stats - mean: -16.6 dB, std: 8.7 dB

==============================================================
  IONIS V2 - SNR Sensitivity Analysis (Phase 10: Geography Reintegration)
  Reference path: FN31 -> JO21 (5900 km, 20m WSPR)
  Sun Sidecar: SFI -> monotonic increasing
  Storm Sidecar: kp_penalty -> monotonic increasing
  DNN: 13 features (no raw ssn/sfi — prevents global bias)
  Reference SFI=150.0, Kp=2.0
==============================================================

  Solar Condition Scenarios (12:00 UTC, June, SFI=150 fixed):
  --------------------------------------------------------
  Solar minimum (SSN 10)                       ->  -21.2 dB
  Quiet Sun     (SSN 50)                       ->  -21.2 dB
  Moderate      (SSN 100)                      ->  -21.2 dB
  Active        (SSN 150)                      ->  -21.2 dB
  Solar maximum (SSN 200)                      ->  -21.2 dB

  SSN 10->200 delta: +0.0 dB
  Note: SSN effect through interactions only (sidecar handles SFI)

==============================================================
  Co-Varied SSN Sweep (SFI = 67 + 0.7*SSN, Kp from SSN)
  --------------------------------------------------------
  SSN   0  SFI    67  Kp 1.0  ->   -21.4 dB
  SSN  20  SFI    81  Kp 1.2  ->   -21.4 dB
  SSN  40  SFI    95  Kp 1.4  ->   -21.3 dB
  SSN  60  SFI   109  Kp 1.6  ->   -21.3 dB
  SSN  80  SFI   123  Kp 1.8  ->   -21.3 dB
  SSN 100  SFI   137  Kp 2.0  ->   -21.3 dB
  SSN 120  SFI   151  Kp 2.2  ->   -21.2 dB
  SSN 140  SFI   165  Kp 2.4  ->   -21.2 dB
  SSN 160  SFI   179  Kp 2.6  ->   -21.2 dB
  SSN 180  SFI   193  Kp 2.8  ->   -21.2 dB
  SSN 200  SFI   207  Kp 3.0  ->   -21.1 dB
  SSN 220  SFI   221  Kp 3.2  ->   -21.1 dB
  SSN 240  SFI   235  Kp 3.4  ->   -21.1 dB
  SSN 260  SFI   249  Kp 3.6  ->   -21.0 dB
  SSN 280  SFI   263  Kp 3.8  ->   -21.0 dB
  SSN 300  SFI   277  Kp 4.0  ->   -21.0 dB

  SSN 0->300 co-varied delta: +0.4 dB
  CORRECT: Monotonic improvement with realistic solar conditions

==============================================================
  SFI (F10.7) Sweep (FN31->JO21, SSN=100, Kp=2)
  This tests the Sun Sidecar monotonicity directly
  --------------------------------------------------------
  SFI  60  ->   -21.5 dB
  SFI  80  ->   -21.5 dB
  SFI 100  ->   -21.4 dB
  SFI 120  ->   -21.3 dB
  SFI 150  ->   -21.2 dB
  SFI 180  ->   -21.1 dB
  SFI 200  ->   -21.0 dB
  SFI 250  ->   -20.8 dB
  SFI 300  ->   -20.6 dB

  SFI 60->300 delta: +0.9 dB
  CORRECT: Higher SFI improves SNR (Sun Sidecar working)

==============================================================
  Kp Sweep (FN31->JO21, SSN=100, SFI=150)
  This tests the Storm Sidecar monotonicity directly
  --------------------------------------------------------
  Kp 0  ->   -20.9 dB
  Kp 1  ->   -21.1 dB
  Kp 2  ->   -21.2 dB
  Kp 3  ->   -21.3 dB
  Kp 4  ->   -21.5 dB
  Kp 5  ->   -21.6 dB
  Kp 6  ->   -21.7 dB
  Kp 7  ->   -21.8 dB
  Kp 8  ->   -22.0 dB
  Kp 9  ->   -22.1 dB

  Kp 0->9 storm cost: +1.1 dB
  CORRECT: Higher Kp degrades SNR (Storm Sidecar working)

==============================================================
  Distance x Latitude Matrix (SSN=100, 12 UTC, June)
  --------------------------------------------------------
  Path                    1000km    3000km    5000km    8000km   12000km
  --------------------------------------------------------
  Equatorial (5N)        -16.3   -18.8   -20.2   -20.9   -21.1
  Mid-lat (40N)          -18.0   -20.0   -21.0   -21.5   -21.7
  High-lat (65N)         -17.2   -19.3   -20.6   -21.3   -21.7

==============================================================
  SSN Impact by Latitude (5000 km, SSN 10 vs SSN 200)
  --------------------------------------------------------
  Equatorial (5N)       SSN 10:  -20.2  SSN 200:  -20.2  Delta:  +0.0 dB
  Mid-lat (40N)         SSN 10:  -21.0  SSN 200:  -21.0  Delta:  +0.0 dB
  High-lat (65N)        SSN 10:  -20.6  SSN 200:  -20.6  Delta:  +0.0 dB

==============================================================
  Band Comparison (FN31->JO21, SSN=100, 12 UTC, June)
  --------------------------------------------------------
  160m (  1.837 MHz)  ->   -21.4 dB
   80m (  3.569 MHz)  ->   -21.3 dB
   40m (  7.039 MHz)  ->   -21.3 dB
   30m ( 10.139 MHz)  ->   -21.2 dB
   20m ( 14.097 MHz)  ->   -21.2 dB
   17m ( 18.105 MHz)  ->   -21.2 dB
   15m ( 21.095 MHz)  ->   -21.2 dB
   10m ( 28.125 MHz)  ->   -21.1 dB

==============================================================
  Day vs Night (FN31->JO21, SSN=100, June)
  --------------------------------------------------------
  00:00 UTC  ->   -20.7 dB
  03:00 UTC  ->   -20.9 dB
  06:00 UTC  ->   -21.4 dB
  09:00 UTC  ->   -21.5 dB
  12:00 UTC  ->   -21.2 dB
  15:00 UTC  ->   -20.7 dB
  18:00 UTC  ->   -20.6 dB
  21:00 UTC  ->   -20.7 dB

==============================================================
  SFI x Kp Matrix (FN31->JO21, SSN=100, 20m)
  --------------------------------------------------------
  SFI\Kp      Kp=0    Kp=2    Kp=4    Kp=6    Kp=8  
  --------------------------------------------------------
  SFI 80      -21.2    -21.5    -21.7    -22.0    -22.2 
  SFI 120     -21.1    -21.3    -21.6    -21.8    -22.1 
  SFI 150     -20.9    -21.2    -21.5    -21.7    -22.0 
  SFI 200     -20.7    -21.0    -21.3    -21.5    -21.8 
  SFI 250     -20.6    -20.8    -21.1    -21.3    -21.6 


  ==============================================================
(.venv) gbeam@m3:~/workspace/ki7mt-ai-lab/ki7mt-ai-lab-training$ python scripts/verify_v10_final.py 
Loading models/ionis_v10_final.pth...
  > Detected Enhanced Checkpoint (with Metadata). Unpacking...
  > Architecture: IonisDualMono (DNN 14->512->256->128->1 + 2x MonotonicMLP)
  > Constraint: abs(weights) + Softplus in sidecars
==================================================
PHYSICS VERIFICATION: DUAL MONOTONIC SIDECARS
Phase 9: Sun Sidecar + Storm Sidecar
==================================================

--- STORM TEST (Kp Sidecar) ---
Scenario: SFI 150 (fixed), 20m Band, Mid-Day
  > SNR at Kp 0 (Quiet):  -19.13 dB
  > SNR at Kp 9 (Storm):  -20.25 dB
  > Storm Sidecar output at Kp 0: -6.75 dB
  > Storm Sidecar output at Kp 9: -7.87 dB

  Storm Cost (Kp 0->9): 1.12 dB
  PASS: Signal DROPPED during storm (correct physics)

--- SUN TEST (SFI Sidecar) ---
Scenario: Kp 2 (fixed), 20m Band, Mid-Day
  > SNR at SFI 70:   -19.69 dB
  > SNR at SFI 200:  -19.21 dB
  > Sun Sidecar output at SFI 70:  -7.63 dB
  > Sun Sidecar output at SFI 200: -7.15 dB

  Sun Benefit (SFI 70->200): 0.48 dB
  PASS: Signal IMPROVED with higher SFI (correct physics)

==================================================
SUMMARY
==================================================
BOTH TESTS PASSED — Physics constraints enforced
  Kp 9 storm cost: 1.12 dB
  SFI 70->200 benefit: 0.48 dB

